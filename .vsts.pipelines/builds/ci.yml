# Matrix build types:
#   Production: The online build that (unless not supported) creates a tarball.
#   Online: The leg produces a tarball then builds it while connected to the internet.
#   Offline: The leg produces a tarball then builds it offline: network disconnected using Docker.
phases:
- template: ../phases/ci-linux.yml
  parameters:
    phase: centos71
    imageName: microsoft/dotnet-buildtools-prereqs:centos-7-b46d863-20180719033416
    matrix:
      Production: {}
      Online: { type: Online }
      Online Portable: { type: Online Portable }
      Offline: { type: Offline }
      Offline Portable: { type: Offline Portable }
- template: ../phases/ci-linux.yml
  parameters:
    phase: fedora28
    imageName: microsoft/dotnet-buildtools-prereqs:fedora-28-c103199-20180628122443
    matrix:
      Production: {}
      Online: { type: Online }
      Online Portable: { type: Online Portable }
      Offline: { type: Offline }
      Offline Portable: { type: Offline Portable }
- template: ../phases/ci-linux.yml
  parameters:
    phase: ubuntu1604
    imageName: microsoft/dotnet-buildtools-prereqs:ubuntu-16.04-c103199-20180628134544
- template: ../phases/ci-linux.yml
  parameters:
    phase: debian82
    imageName: microsoft/dotnet-buildtools-prereqs:debian-8.2-c103199-20180628122423

- template: ../phases/ci-osx.yml
  parameters:
    phase: osx
